name: CI
on:
  push:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  windows:
    runs-on: windows-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4
        with:
          repository: mozilla/gecko-dev

      - name: Bootstrap
        run: |
          New-Item "../mozilla-source" -ItemType Directory
          cd ../mozilla-source

          Invoke-WebRequest https://hg.mozilla.org/mozilla-central/raw-file/default/python/mozboot/bin/bootstrap.py -OutFile bootstrap.py
          python3 bootstrap.py --no-interactive

          cd ../gecko-dev
